{"version":3,"sources":["components/Modal/Modal.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Test/Test.js","App.js","index.js"],"names":["module","exports","Searchbar","state","requestValue","handleRequestChange","evt","setState","currentTarget","value","toLowerCase","handleSubmit","event","preventDefault","trim","toast","error","props","onSubmit","className","this","type","name","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","arrImages","console","log","hits","map","obj","src","webformatURL","alt","id","ImageGallery","pageNumber","status","prevProps","prevState","fetch","keyApi","then","response","ok","json","Promise","reject","Error","arr","catch","color","height","width","timeout","Button","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","s","Modal__backdrop","onClick","Modal__content","children","Test","App","showModal","toggleModal","handleFormSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33f73291.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal__backdrop\":\"Modal_Modal__backdrop__3ne6b\",\"Modal__content\":\"Modal_Modal__content__3USxr\"};","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass Searchbar extends Component {\n  state = {\n    requestValue: \"\",\n  };\n\n  handleRequestChange = (evt) => {\n    this.setState({ requestValue: evt.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.requestValue.trim() === \"\") {\n      return toast.error(\"измените запрос\", {});\n    }\n    this.setState({ requestValue: \"\" });\n    this.props.onSubmit(this.state.requestValue);\n  };\n\n  render() {\n    return (\n      <header className=\"Searchbar\">\n        <form onSubmit={this.handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            className=\"SearchForm-input\"\n            type=\"text\"\n            name=\"requestValue\"\n            value={this.state.requestValue}\n            onChange={this.handleRequestChange}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","function ImageGalleryItem({ arrImages }) {\n  console.log(arrImages);\n  return arrImages.hits.map((obj) => {\n    return (\n      <li className=\"ImageGalleryItem\" key={obj.id}>\n        <img src={obj.webformatURL} alt=\"\" className=\"ImageGalleryItem-image\" />\n      </li>\n    );\n  });\n}\n\nexport default ImageGalleryItem;\n","import { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\n\nclass ImageGallery extends Component {\n  state = {\n    pageNumber: 1,\n    arrImages: null,\n    // loading: false,\n    error: null,\n    status: \"idle\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.requestValue !== this.props.requestValue) {\n      this.setState({ status: \"pending\" });\n      fetch(\n        `https://pixabay.com/api/?q=${this.props.requestValue}&page=${this.state.pageNumber}&key=${this.props.keyApi}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((response) => {\n          if (response.ok) {\n            return response.json();\n          }\n\n          return Promise.reject(\n            new Error(`ошибка по запросу ${this.props.requestValue}`)\n          );\n        })\n        .then((arr) => this.setState({ arrImages: arr, status: \"resolved\" }))\n        .catch((error) => this.setState({ error: error, status: \"rejected\" }));\n    }\n  }\n  render() {\n    if (this.state.status === \"idle\") {\n      return <div>Введите тексе запроса</div>;\n    }\n\n    if (this.state.status === \"pending\") {\n      return (\n        <Loader\n          type=\"Puff\"\n          color=\"#00BFFF\"\n          height={100}\n          width={100}\n          timeout={3000} //3 secs\n        />\n      );\n    }\n\n    if (this.state.status === \"rejected\") {\n      return <div>{this.state.error}</div>;\n    }\n\n    if (this.state.status === \"resolved\") {\n      return (\n        <ul className=\"ImageGallery\">\n          <ImageGalleryItem arrImages={this.state.arrImages} />\n        </ul>\n      );\n    }\n\n    // return (\n    //   <ul className=\"ImageGallery\">\n    //     {this.state.arrImages && (\n    //       <ImageGalleryItem arrImages={this.state.arrImages} />\n    //     )}\n\n    //     {this.state.loading && (\n    //       <Loader\n    //         type=\"Puff\"\n    //         color=\"#00BFFF\"\n    //         height={100}\n    //         width={100}\n    //         timeout={3000} //3 secs\n    //       />\n    //     )}\n    //   </ul>\n    // )\n  }\n}\nexport default ImageGallery;\n","function Button() {\n  return <button type=\"button\">Load more</button>;\n}\n\nexport default Button;\n\n// // Для скрола используй следующий код:\n\n// window.scrollTo({\n//   top: document.documentElement.scrollHeight,\n//   behavior: 'smooth',\n// });\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\nconsole.log(modalRoot);\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = (evt) => {\n    if (evt.currentTarget === evt.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Modal__backdrop} onClick={this.handleBackdropClick}>\n        <div className={s.Modal__content}>{this.props.children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\n\nclass Test extends Component {\n  render() {\n    return <div>Test</div>;\n  }\n}\n\nexport default Test;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"./App.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\n\n// модалку приспособить\nimport Modal from \"./components/Modal\";\n\n// компонент для тренировки\nimport Test from \"./components/Test/Test\";\n\nconst MY_API_KEY = \"23246580-47279d47050c78840bfc8f048\";\n\nclass App extends Component {\n  state = {\n    requestValue: \"\",\n\n    showModal: false,\n  };\n\n  // componentDidMount() {\n  //   fetch(\n  //     `https://pixabay.com/api/?q=${this.state.searchValue}&page=${this.state.pageNumber}&key=${MY_API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  //   )\n  //     .then((res) => res.json())\n  //     .then((arr) => this.setState({ arrImages: arr }))\n  //     .finally(() => this.setState())\n  // }\n\n  toggleModal = () => {\n    this.setState((state) => ({\n      showModal: !state.showModal,\n    }));\n  };\n\n  handleFormSubmit = (requestValue) => {\n    this.setState({ requestValue });\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Test />\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery\n          requestValue={this.state.requestValue}\n          keyApi={MY_API_KEY}\n        />\n        <Button />\n\n        {this.state.showModal && (\n          <Modal onClose={this.toggleModal}>\n            <h1>то что будет отображено в модалке</h1>\n            <p>\n              loremloremlorem loremloremlorem loremloremloreml oremloremlorem\n            </p>\n            <button type=\"button\" onClick={this.toggleModal}>\n              X\n            </button>\n          </Modal>\n        )}\n        <ToastContainer autoClose={2500} />\n\n        <button type=\"button\" onClick={this.toggleModal}>\n          Открыть модалку\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n)\n"],"sourceRoot":""}